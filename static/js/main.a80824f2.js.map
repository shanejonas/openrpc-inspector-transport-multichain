{"version":3,"file":"static/js/main.a80824f2.js","mappings":"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","sources":["../node_modules/@open-rpc/client-js/build/Client.js","../node_modules/@open-rpc/client-js/build/Error.js","../node_modules/@open-rpc/client-js/build/Request.js","../node_modules/@open-rpc/client-js/build/RequestManager.js","../node_modules/@open-rpc/client-js/build/index.js","../node_modules/@open-rpc/client-js/build/transports/EventEmitterTransport.js","../node_modules/@open-rpc/client-js/build/transports/HTTPTransport.js","../node_modules/@open-rpc/client-js/build/transports/PostMessageIframeTransport.js","../node_modules/@open-rpc/client-js/build/transports/PostMessageWindowTransport.js","../node_modules/@open-rpc/client-js/build/transports/Transport.js","../node_modules/@open-rpc/client-js/build/transports/TransportRequestManager.js","../node_modules/@open-rpc/client-js/build/transports/WebSocketTransport.js","../../src/classes.ts","../../src/error-constants.ts","../../src/errors.ts","../../src/index.ts","../../src/utils.ts","../node_modules/events/events.js","../node_modules/fast-safe-stringify/index.js","../node_modules/isomorphic-fetch/fetch-npm-browserify.js","../node_modules/isomorphic-ws/browser.js","../node_modules/whatwg-fetch/fetch.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","transports/MetaMaskTransport.ts","methods/methodMapping.ts","index.tsx"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * OpenRPC Client JS is a browser-compatible JSON-RPC client with multiple transports and\n * multiple request managers to enable features like round-robin or fallback-by-position.\n *\n * @example\n * ```typescript\n * import { RequestManager, HTTPTransport, Client } from '@open-rpc/client-js';\n * const transport = new HTTPTransport('http://localhost:3333');\n * const client = new Client(new RequestManager([transport]));\n * const result = await client.request({method: 'addition', params: [2, 2]});\n * // => { jsonrpc: '2.0', id: 1, result: 4 }\n * ```\n *\n */\nvar Client = /** @class */ (function () {\n    function Client(requestManager) {\n        this.requestManager = requestManager;\n    }\n    /**\n     * Initiates [[RequestManager.startBatch]] in order to build a batch call.\n     *\n     * Subsequent calls to [[Client.request]] will be added to the batch. Once [[Client.stopBatch]] is called, the\n     * promises for the [[Client.request]] will then be resolved.  If the [[RequestManager]] already has a batch in\n     * progress, this method is a noop.\n     *\n     * @example\n     * myClient.startBatch();\n     * myClient.request({method: \"foo\", params: [\"bar\"]}).then(() => console.log('foobar'));\n     * myClient.request({method: \"foo\", params: [\"baz\"]}).then(() => console.log('foobaz'));\n     * myClient.stopBatch();\n     */\n    Client.prototype.startBatch = function () {\n        return this.requestManager.startBatch();\n    };\n    /**\n     * Initiates [[RequestManager.stopBatch]] in order to finalize and send the batch to the underlying transport.\n     *\n     * [[Client.stopBatch]] will send the [[Client.request]] calls made since the last [[Client.startBatch]] call. For\n     * that reason, [[Client.startBatch]] MUST be called before [[Client.stopBatch]].\n     *\n     * @example\n     * myClient.startBatch();\n     * myClient.request({method: \"foo\", params: [\"bar\"]}).then(() => console.log('foobar'));\n     * myClient.request({method: \"foo\", params: [\"baz\"]}).then(() => console.log('foobaz'));\n     * myClient.stopBatch();\n     */\n    Client.prototype.stopBatch = function () {\n        return this.requestManager.stopBatch();\n    };\n    /**\n     * A JSON-RPC call is represented by sending a Request object to a Server.\n     *\n     * @param requestObject.method A String containing the name of the method to be invoked. Method names that begin with the word rpc\n     * followed by a period character (U+002E or ASCII 46) are reserved for rpc-internal methods and extensions and\n     * MUST NOT be used for anything else.\n     * @param requestObject.params A Structured value that holds the parameter values to be used during the invocation of the method.\n     *\n     * @example\n     * myClient.request({method: \"foo\", params: [\"bar\"]}).then(() => console.log('foobar'));\n     */\n    Client.prototype.request = function (requestObject, timeout) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.requestManager.connectPromise) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.requestManager.connectPromise];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this.requestManager.request(requestObject, false, timeout)];\n                }\n            });\n        });\n    };\n    Client.prototype.notify = function (requestObject) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.requestManager.connectPromise) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.requestManager.connectPromise];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, this.requestManager.request(requestObject, true, null)];\n                }\n            });\n        });\n    };\n    Client.prototype.onNotification = function (callback) {\n        this.requestManager.requestChannel.addListener(\"notification\", callback);\n    };\n    Client.prototype.onError = function (callback) {\n        this.requestManager.requestChannel.addListener(\"error\", callback);\n    };\n    /**\n     * Close connection\n     */\n    Client.prototype.close = function () {\n        this.requestManager.close();\n    };\n    return Client;\n}());\nexports.default = Client;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertJSONToRPCError = exports.JSONRPCError = exports.ERR_UNKNOWN = exports.ERR_MISSIING_ID = exports.ERR_TIMEOUT = void 0;\nexports.ERR_TIMEOUT = 7777;\nexports.ERR_MISSIING_ID = 7878;\nexports.ERR_UNKNOWN = 7979;\nvar JSONRPCError = /** @class */ (function (_super) {\n    __extends(JSONRPCError, _super);\n    function JSONRPCError(message, code, data) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.code = code;\n        _this.data = data;\n        Object.setPrototypeOf(_this, _newTarget.prototype); // restore prototype chain: see https://github.com/open-rpc/client-js/issues/209\n        return _this;\n    }\n    return JSONRPCError;\n}(Error));\nexports.JSONRPCError = JSONRPCError;\nexports.convertJSONToRPCError = function (payload) {\n    if (payload.error) {\n        var _a = payload.error, message = _a.message, code = _a.code, data = _a.data;\n        return new JSONRPCError(message, code, data);\n    }\n    return new JSONRPCError(\"Unknown error\", exports.ERR_UNKNOWN, payload);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNotifications = exports.getBatchRequests = exports.isNotification = void 0;\nexports.isNotification = function (data) {\n    return (data.request.id === undefined || data.request.id === null);\n};\nexports.getBatchRequests = function (data) {\n    if (data instanceof Array) {\n        return data.filter(function (datum) {\n            var id = datum.request.request.id;\n            return id !== null && id !== undefined;\n        }).map(function (batchRequest) {\n            return batchRequest.request;\n        });\n    }\n    return [];\n};\nexports.getNotifications = function (data) {\n    if (data instanceof Array) {\n        return data.filter(function (datum) {\n            return exports.isNotification(datum.request);\n        }).map(function (batchRequest) {\n            return batchRequest.request;\n        });\n    }\n    if (exports.isNotification(data)) {\n        return [data];\n    }\n    return [];\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultNextRequest = void 0;\nvar events_1 = require(\"events\");\nexports.defaultNextRequest = function () {\n    var lastId = -1;\n    return function () { return ++lastId; };\n};\n/*\n** Naive Request Manager, only use 1st transport.\n * A more complex request manager could try each transport.\n * If a transport fails, or times out, move on to the next.\n */\nvar RequestManager = /** @class */ (function () {\n    function RequestManager(transports, nextID) {\n        if (nextID === void 0) { nextID = exports.defaultNextRequest(); }\n        this.batch = [];\n        this.batchStarted = false;\n        this.lastId = -1;\n        this.transports = transports;\n        this.requests = {};\n        this.connectPromise = this.connect();\n        this.requestChannel = new events_1.EventEmitter();\n        this.nextID = nextID;\n    }\n    RequestManager.prototype.connect = function () {\n        var _this = this;\n        return Promise.all(this.transports.map(function (transport) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        transport.subscribe(\"error\", this.handleError.bind(this));\n                        transport.subscribe(\"notification\", this.handleNotification.bind(this));\n                        return [4 /*yield*/, transport.connect()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); }));\n    };\n    RequestManager.prototype.getPrimaryTransport = function () {\n        return this.transports[0];\n    };\n    RequestManager.prototype.request = function (requestObject, notification, timeout) {\n        if (notification === void 0) { notification = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var internalID, id, payload, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                internalID = this.nextID().toString();\n                id = notification ? null : internalID;\n                payload = { request: this.makeRequest(requestObject.method, requestObject.params || [], id), internalID: internalID };\n                if (this.batchStarted) {\n                    result = new Promise(function (resolve, reject) {\n                        _this.batch.push({ resolve: resolve, reject: reject, request: payload });\n                    });\n                    return [2 /*return*/, result];\n                }\n                return [2 /*return*/, this.getPrimaryTransport().sendData(payload, timeout)];\n            });\n        });\n    };\n    RequestManager.prototype.close = function () {\n        this.requestChannel.removeAllListeners();\n        this.transports.forEach(function (transport) {\n            transport.unsubscribe();\n            transport.close();\n        });\n    };\n    /**\n     * Begins a batch call by setting the [[RequestManager.batchStarted]] flag to `true`.\n     *\n     * [[RequestManager.batch]] is a singleton - only one batch can exist at a given time, per [[RequestManager]].\n     *\n     */\n    RequestManager.prototype.startBatch = function () {\n        this.batchStarted = true;\n    };\n    RequestManager.prototype.stopBatch = function () {\n        if (this.batchStarted === false) {\n            throw new Error(\"cannot end that which has never started\");\n        }\n        if (this.batch.length === 0) {\n            this.batchStarted = false;\n            return;\n        }\n        this.getPrimaryTransport().sendData(this.batch);\n        this.batch = [];\n        this.batchStarted = false;\n    };\n    RequestManager.prototype.makeRequest = function (method, params, id) {\n        if (id) {\n            return { jsonrpc: \"2.0\", id: id, method: method, params: params };\n        }\n        return { jsonrpc: \"2.0\", method: method, params: params };\n    };\n    RequestManager.prototype.handleError = function (data) {\n        this.requestChannel.emit(\"error\", data);\n    };\n    RequestManager.prototype.handleNotification = function (data) {\n        this.requestChannel.emit(\"notification\", data);\n    };\n    return RequestManager;\n}());\nexports.default = RequestManager;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PostMessageIframeTransport = exports.PostMessageWindowTransport = exports.JSONRPCError = exports.WebSocketTransport = exports.EventEmitterTransport = exports.HTTPTransport = exports.RequestManager = exports.Client = void 0;\nvar RequestManager_1 = __importDefault(require(\"./RequestManager\"));\nexports.RequestManager = RequestManager_1.default;\nvar EventEmitterTransport_1 = __importDefault(require(\"./transports/EventEmitterTransport\"));\nexports.EventEmitterTransport = EventEmitterTransport_1.default;\nvar HTTPTransport_1 = __importDefault(require(\"./transports/HTTPTransport\"));\nexports.HTTPTransport = HTTPTransport_1.default;\nvar WebSocketTransport_1 = __importDefault(require(\"./transports/WebSocketTransport\"));\nexports.WebSocketTransport = WebSocketTransport_1.default;\nvar PostMessageWindowTransport_1 = __importDefault(require(\"./transports/PostMessageWindowTransport\"));\nexports.PostMessageWindowTransport = PostMessageWindowTransport_1.default;\nvar PostMessageIframeTransport_1 = __importDefault(require(\"./transports/PostMessageIframeTransport\"));\nexports.PostMessageIframeTransport = PostMessageIframeTransport_1.default;\nvar Error_1 = require(\"./Error\");\nObject.defineProperty(exports, \"JSONRPCError\", { enumerable: true, get: function () { return Error_1.JSONRPCError; } });\nvar Client_1 = __importDefault(require(\"./Client\"));\nexports.Client = Client_1.default;\nexports.default = Client_1.default;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar Error_1 = require(\"../Error\");\nvar EventEmitterTransport = /** @class */ (function (_super) {\n    __extends(EventEmitterTransport, _super);\n    function EventEmitterTransport(destEmitter, reqUri, resUri) {\n        var _this = _super.call(this) || this;\n        _this.connection = destEmitter;\n        _this.reqUri = reqUri;\n        _this.resUri = resUri;\n        return _this;\n    }\n    EventEmitterTransport.prototype.connect = function () {\n        var _this = this;\n        this.connection.on(this.resUri, function (data) {\n            _this.transportRequestManager.resolveResponse(data);\n        });\n        return Promise.resolve();\n    };\n    EventEmitterTransport.prototype.sendData = function (data, timeout) {\n        if (timeout === void 0) { timeout = null; }\n        var prom = this.transportRequestManager.addRequest(data, timeout);\n        var notifications = Request_1.getNotifications(data);\n        var parsedData = this.parseData(data);\n        try {\n            this.connection.emit(this.reqUri, parsedData);\n            this.transportRequestManager.settlePendingRequest(notifications);\n            return prom;\n        }\n        catch (e) {\n            var responseErr = new Error_1.JSONRPCError(e.message, Error_1.ERR_UNKNOWN, e);\n            this.transportRequestManager.settlePendingRequest(notifications, responseErr);\n            return Promise.reject(responseErr);\n        }\n    };\n    EventEmitterTransport.prototype.close = function () {\n        this.connection.removeAllListeners();\n    };\n    return EventEmitterTransport;\n}(Transport_1.Transport));\nexports.default = EventEmitterTransport;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTTPTransport = void 0;\nvar isomorphic_fetch_1 = __importDefault(require(\"isomorphic-fetch\"));\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar Error_1 = require(\"../Error\");\nvar HTTPTransport = /** @class */ (function (_super) {\n    __extends(HTTPTransport, _super);\n    function HTTPTransport(uri, options) {\n        var _this = _super.call(this) || this;\n        _this.onlyNotifications = function (data) {\n            if (data instanceof Array) {\n                return data.every(function (datum) {\n                    return datum.request.request.id === null ||\n                        datum.request.request.id === undefined;\n                });\n            }\n            return data.request.id === null || data.request.id === undefined;\n        };\n        _this.uri = uri;\n        _this.credentials = options && options.credentials;\n        _this.headers = HTTPTransport.setupHeaders(options && options.headers);\n        _this.injectedFetcher = options === null || options === void 0 ? void 0 : options.fetcher;\n        return _this;\n    }\n    HTTPTransport.prototype.connect = function () {\n        return Promise.resolve();\n    };\n    HTTPTransport.prototype.sendData = function (data, timeout) {\n        if (timeout === void 0) { timeout = null; }\n        return __awaiter(this, void 0, void 0, function () {\n            var prom, notifications, batch, fetcher, result, body, responseErr, e_1, responseErr;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        prom = this.transportRequestManager.addRequest(data, timeout);\n                        notifications = Request_1.getNotifications(data);\n                        batch = Request_1.getBatchRequests(data);\n                        fetcher = this.injectedFetcher || isomorphic_fetch_1.default;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, fetcher(this.uri, {\n                                method: \"POST\",\n                                headers: this.headers,\n                                body: JSON.stringify(this.parseData(data)),\n                                credentials: this.credentials,\n                            })];\n                    case 2:\n                        result = _a.sent();\n                        // requirements are that notifications are successfully sent\n                        this.transportRequestManager.settlePendingRequest(notifications);\n                        if (this.onlyNotifications(data)) {\n                            return [2 /*return*/, Promise.resolve()];\n                        }\n                        return [4 /*yield*/, result.text()];\n                    case 3:\n                        body = _a.sent();\n                        responseErr = this.transportRequestManager.resolveResponse(body);\n                        if (responseErr) {\n                            // requirements are that batch requuests are successfully resolved\n                            // this ensures that individual requests within the batch request are settled\n                            this.transportRequestManager.settlePendingRequest(batch, responseErr);\n                            return [2 /*return*/, Promise.reject(responseErr)];\n                        }\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_1 = _a.sent();\n                        responseErr = new Error_1.JSONRPCError(e_1.message, Error_1.ERR_UNKNOWN, e_1);\n                        this.transportRequestManager.settlePendingRequest(notifications, responseErr);\n                        this.transportRequestManager.settlePendingRequest(Request_1.getBatchRequests(data), responseErr);\n                        return [2 /*return*/, Promise.reject(responseErr)];\n                    case 5: return [2 /*return*/, prom];\n                }\n            });\n        });\n    };\n    // tslint:disable-next-line:no-empty\n    HTTPTransport.prototype.close = function () { };\n    HTTPTransport.setupHeaders = function (headerOptions) {\n        var headers = new Headers(headerOptions);\n        // Overwrite header options to ensure correct content type.\n        headers.set(\"Content-Type\", \"application/json\");\n        return headers;\n    };\n    return HTTPTransport;\n}(Transport_1.Transport));\nexports.HTTPTransport = HTTPTransport;\nexports.default = HTTPTransport;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar PostMessageIframeTransport = /** @class */ (function (_super) {\n    __extends(PostMessageIframeTransport, _super);\n    function PostMessageIframeTransport(uri) {\n        var _this = _super.call(this) || this;\n        _this.messageHandler = function (ev) {\n            _this.transportRequestManager.resolveResponse(JSON.stringify(ev.data));\n        };\n        _this.uri = uri;\n        _this.postMessageID = \"post-message-transport-\" + Math.random();\n        return _this;\n    }\n    PostMessageIframeTransport.prototype.createWindow = function (uri) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var frame;\n            var iframe = document.createElement(\"iframe\");\n            iframe.setAttribute(\"id\", _this.postMessageID);\n            iframe.setAttribute(\"width\", \"0px\");\n            iframe.setAttribute(\"height\", \"0px\");\n            iframe.setAttribute(\"style\", \"visiblity:hidden;border:none;outline:none;\");\n            iframe.addEventListener(\"load\", function () {\n                resolve(frame);\n            });\n            iframe.setAttribute(\"src\", uri);\n            window.document.body.appendChild(iframe);\n            frame = iframe.contentWindow;\n        });\n    };\n    PostMessageIframeTransport.prototype.connect = function () {\n        var _this = this;\n        var urlRegex = /^(http|https):\\/\\/.*$/;\n        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!urlRegex.test(this.uri)) {\n                            reject(new Error(\"Bad URI\"));\n                        }\n                        _a = this;\n                        return [4 /*yield*/, this.createWindow(this.uri)];\n                    case 1:\n                        _a.frame = _b.sent();\n                        window.addEventListener(\"message\", this.messageHandler);\n                        resolve();\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    PostMessageIframeTransport.prototype.sendData = function (data, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var prom, notifications;\n            return __generator(this, function (_a) {\n                prom = this.transportRequestManager.addRequest(data, null);\n                notifications = Request_1.getNotifications(data);\n                if (this.frame) {\n                    this.frame.postMessage(data.request, \"*\");\n                    this.transportRequestManager.settlePendingRequest(notifications);\n                }\n                return [2 /*return*/, prom];\n            });\n        });\n    };\n    PostMessageIframeTransport.prototype.close = function () {\n        var el = document.getElementById(this.postMessageID);\n        el === null || el === void 0 ? void 0 : el.remove();\n        window.removeEventListener(\"message\", this.messageHandler);\n    };\n    return PostMessageIframeTransport;\n}(Transport_1.Transport));\nexports.default = PostMessageIframeTransport;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar openPopup = function (url) {\n    var width = 400;\n    var height = window.screen.height;\n    var left = 0;\n    var top = 0;\n    return window.open(url, \"inspector:popup\", \"left=\" + left + \",top=\" + top + \",width=\" + width + \",height=\" + height + \",resizable,scrollbars=yes,status=1\");\n};\nvar PostMessageTransport = /** @class */ (function (_super) {\n    __extends(PostMessageTransport, _super);\n    function PostMessageTransport(uri) {\n        var _this = _super.call(this) || this;\n        _this.messageHandler = function (ev) {\n            _this.transportRequestManager.resolveResponse(JSON.stringify(ev.data));\n        };\n        _this.uri = uri;\n        _this.postMessageID = \"post-message-transport-\" + Math.random();\n        return _this;\n    }\n    PostMessageTransport.prototype.createWindow = function (uri) {\n        return new Promise(function (resolve, reject) {\n            var frame;\n            frame = openPopup(uri);\n            setTimeout(function () {\n                resolve(frame);\n            }, 3000);\n        });\n    };\n    PostMessageTransport.prototype.connect = function () {\n        var _this = this;\n        var urlRegex = /^(http|https):\\/\\/.*$/;\n        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!urlRegex.test(this.uri)) {\n                            reject(new Error(\"Bad URI\"));\n                        }\n                        _a = this;\n                        return [4 /*yield*/, this.createWindow(this.uri)];\n                    case 1:\n                        _a.frame = _b.sent();\n                        window.addEventListener(\"message\", this.messageHandler);\n                        resolve();\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    PostMessageTransport.prototype.sendData = function (data, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var prom, notifications;\n            return __generator(this, function (_a) {\n                prom = this.transportRequestManager.addRequest(data, null);\n                notifications = Request_1.getNotifications(data);\n                if (this.frame) {\n                    this.frame.postMessage(data.request, this.uri);\n                    this.transportRequestManager.settlePendingRequest(notifications);\n                }\n                return [2 /*return*/, prom];\n            });\n        });\n    };\n    PostMessageTransport.prototype.close = function () {\n        if (this.frame) {\n            window.removeEventListener(\"message\", this.messageHandler);\n            this.frame.close();\n        }\n    };\n    return PostMessageTransport;\n}(Transport_1.Transport));\nexports.default = PostMessageTransport;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transport = void 0;\nvar TransportRequestManager_1 = require(\"./TransportRequestManager\");\nvar Transport = /** @class */ (function () {\n    function Transport() {\n        this.transportRequestManager = new TransportRequestManager_1.TransportRequestManager();\n        // add a noop for the error event to not require handling the error event\n        // tslint:disable-next-line:no-empty\n        this.transportRequestManager.transportEventChannel.on(\"error\", function () { });\n    }\n    Transport.prototype.subscribe = function (event, handler) {\n        this.transportRequestManager.transportEventChannel.addListener(event, handler);\n    };\n    Transport.prototype.unsubscribe = function (event, handler) {\n        if (!event) {\n            return this.transportRequestManager.transportEventChannel.removeAllListeners();\n        }\n        if (event && handler) {\n            this.transportRequestManager.transportEventChannel.removeListener(event, handler);\n        }\n    };\n    Transport.prototype.parseData = function (data) {\n        if (data instanceof Array) {\n            return data.map(function (batch) { return batch.request.request; });\n        }\n        return data.request;\n    };\n    return Transport;\n}());\nexports.Transport = Transport;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransportRequestManager = void 0;\nvar events_1 = require(\"events\");\nvar Error_1 = require(\"../Error\");\nvar TransportRequestManager = /** @class */ (function () {\n    function TransportRequestManager() {\n        this.pendingRequest = {};\n        this.pendingBatchRequest = {};\n        this.transportEventChannel = new events_1.EventEmitter();\n    }\n    TransportRequestManager.prototype.addRequest = function (data, timeout) {\n        this.transportEventChannel.emit(\"pending\", data);\n        if (data instanceof Array) {\n            this.addBatchReq(data, timeout);\n            return Promise.resolve();\n        }\n        return this.addReq(data.internalID, timeout);\n    };\n    TransportRequestManager.prototype.settlePendingRequest = function (request, error) {\n        var _this = this;\n        request.forEach(function (req) {\n            var resolver = _this.pendingRequest[req.internalID];\n            delete _this.pendingBatchRequest[req.internalID];\n            if (resolver === undefined) {\n                return;\n            }\n            if (error) {\n                resolver.reject(error);\n                return;\n            }\n            resolver.resolve();\n            // Notifications have no response and should clear their own pending requests\n            if (req.request.id === null || req.request.id === undefined) {\n                delete _this.pendingRequest[req.internalID];\n            }\n        });\n    };\n    TransportRequestManager.prototype.isPendingRequest = function (id) {\n        return this.pendingRequest.hasOwnProperty(id);\n    };\n    TransportRequestManager.prototype.resolveResponse = function (payload, emitError) {\n        if (emitError === void 0) { emitError = true; }\n        var data = payload;\n        try {\n            data = JSON.parse(payload);\n            if (this.checkJSONRPC(data) === false) {\n                return; // ignore messages that are not conforming to JSON-RPC\n            }\n            if (data instanceof Array) {\n                return this.resolveBatch(data, emitError);\n            }\n            return this.resolveRes(data, emitError);\n        }\n        catch (e) {\n            var err = new Error_1.JSONRPCError(\"Bad response format\", Error_1.ERR_UNKNOWN, payload);\n            if (emitError) {\n                this.transportEventChannel.emit(\"error\", err);\n            }\n            return err;\n        }\n    };\n    TransportRequestManager.prototype.addBatchReq = function (batches, timeout) {\n        var _this = this;\n        batches.forEach(function (batch) {\n            var resolve = batch.resolve, reject = batch.reject;\n            var internalID = batch.request.internalID;\n            _this.pendingBatchRequest[internalID] = true;\n            _this.pendingRequest[internalID] = { resolve: resolve, reject: reject };\n        });\n        return Promise.resolve();\n    };\n    TransportRequestManager.prototype.addReq = function (id, timeout) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (timeout !== null && timeout) {\n                _this.setRequestTimeout(id, timeout, reject);\n            }\n            _this.pendingRequest[id] = { resolve: resolve, reject: reject };\n        });\n    };\n    TransportRequestManager.prototype.checkJSONRPC = function (data) {\n        var payload = [data];\n        if (data instanceof Array) {\n            payload = data;\n        }\n        return payload.every(function (datum) { return (datum.result !== undefined || datum.error !== undefined || datum.method !== undefined); });\n    };\n    TransportRequestManager.prototype.processResult = function (payload, prom) {\n        if (payload.error) {\n            var err = Error_1.convertJSONToRPCError(payload);\n            prom.reject(err);\n            return;\n        }\n        prom.resolve(payload.result);\n    };\n    TransportRequestManager.prototype.resolveBatch = function (payload, emitError) {\n        var _this = this;\n        var results = payload.map(function (datum) {\n            return _this.resolveRes(datum, emitError);\n        });\n        var errors = results.filter(function (result) { return result; });\n        if (errors.length > 0) {\n            return errors[0];\n        }\n        return undefined;\n    };\n    TransportRequestManager.prototype.resolveRes = function (data, emitError) {\n        var id = data.id, error = data.error;\n        var status = this.pendingRequest[id];\n        if (status) {\n            delete this.pendingRequest[id];\n            this.processResult(data, status);\n            this.transportEventChannel.emit(\"response\", data);\n            return;\n        }\n        if (id === undefined && error === undefined) {\n            this.transportEventChannel.emit(\"notification\", data);\n            return;\n        }\n        var err;\n        if (error) {\n            err = Error_1.convertJSONToRPCError(data);\n        }\n        if (emitError && error && err) {\n            this.transportEventChannel.emit(\"error\", err);\n        }\n        return err;\n    };\n    TransportRequestManager.prototype.setRequestTimeout = function (id, timeout, reject) {\n        var _this = this;\n        setTimeout(function () {\n            delete _this.pendingRequest[id];\n            reject(new Error_1.JSONRPCError(\"Request timeout request took longer than \" + timeout + \" ms to resolve\", Error_1.ERR_TIMEOUT));\n        }, timeout);\n    };\n    return TransportRequestManager;\n}());\nexports.TransportRequestManager = TransportRequestManager;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isomorphic_ws_1 = __importDefault(require(\"isomorphic-ws\"));\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar Error_1 = require(\"../Error\");\nvar WebSocketTransport = /** @class */ (function (_super) {\n    __extends(WebSocketTransport, _super);\n    function WebSocketTransport(uri) {\n        var _this = _super.call(this) || this;\n        _this.uri = uri;\n        _this.connection = new isomorphic_ws_1.default(uri);\n        return _this;\n    }\n    WebSocketTransport.prototype.connect = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var cb = function () {\n                _this.connection.removeEventListener(\"open\", cb);\n                resolve();\n            };\n            _this.connection.addEventListener(\"open\", cb);\n            _this.connection.addEventListener(\"message\", function (message) {\n                var data = message.data;\n                _this.transportRequestManager.resolveResponse(data);\n            });\n        });\n    };\n    WebSocketTransport.prototype.sendData = function (data, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var prom, notifications, jsonError;\n            return __generator(this, function (_a) {\n                prom = this.transportRequestManager.addRequest(data, timeout);\n                notifications = Request_1.getNotifications(data);\n                try {\n                    this.connection.send(JSON.stringify(this.parseData(data)));\n                    this.transportRequestManager.settlePendingRequest(notifications);\n                }\n                catch (err) {\n                    jsonError = new Error_1.JSONRPCError(err.message, Error_1.ERR_UNKNOWN, err);\n                    this.transportRequestManager.settlePendingRequest(notifications, jsonError);\n                    this.transportRequestManager.settlePendingRequest(Request_1.getBatchRequests(data), jsonError);\n                    prom = Promise.reject(jsonError);\n                }\n                return [2 /*return*/, prom];\n            });\n        });\n    };\n    WebSocketTransport.prototype.close = function () {\n        this.connection.close();\n    };\n    return WebSocketTransport;\n}(Transport_1.Transport));\nexports.default = WebSocketTransport;\n",null,null,null,null,null,"// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","// https://github.com/maxogden/websocket-stream/blob/48dc3ddf943e5ada668c31ccd94e9186f02fafbd/ws-fallback.js\n\nvar ws = null\n\nif (typeof WebSocket !== 'undefined') {\n  ws = WebSocket\n} else if (typeof MozWebSocket !== 'undefined') {\n  ws = MozWebSocket\n} else if (typeof global !== 'undefined') {\n  ws = global.WebSocket || global.MozWebSocket\n} else if (typeof window !== 'undefined') {\n  ws = window.WebSocket || window.MozWebSocket\n} else if (typeof self !== 'undefined') {\n  ws = self.WebSocket || self.MozWebSocket\n}\n\nexport default ws\n","/* eslint-disable no-prototype-builtins */\nvar g =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  // eslint-disable-next-line no-undef\n  (typeof global !== 'undefined' && global) ||\n  {}\n\nvar support = {\n  searchParams: 'URLSearchParams' in g,\n  iterable: 'Symbol' in g && 'iterator' in Symbol,\n  blob:\n    'FileReader' in g &&\n    'Blob' in g &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in g,\n  arrayBuffer: 'ArrayBuffer' in g\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      if (header.length != 2) {\n        throw new TypeError('Headers constructor: expected name/value pair to be length 2, found' + header.length)\n      }\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body._noBody) return\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type)\n  var encoding = match ? match[1] : 'utf-8'\n  reader.readAsText(blob, encoding)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    // eslint-disable-next-line no-self-assign\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._noBody = true;\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n  }\n\n  this.arrayBuffer = function() {\n    if (this._bodyArrayBuffer) {\n      var isConsumed = consumed(this)\n      if (isConsumed) {\n        return isConsumed\n      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n        return Promise.resolve(\n          this._bodyArrayBuffer.buffer.slice(\n            this._bodyArrayBuffer.byteOffset,\n            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n          )\n        )\n      } else {\n        return Promise.resolve(this._bodyArrayBuffer)\n      }\n    } else if (support.blob) {\n      return this.blob().then(readBlobAsArrayBuffer)\n    } else {\n      throw new Error('could not read as ArrayBuffer')\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'PATCH', 'POST', 'PUT', 'TRACE']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal || (function () {\n    if ('AbortController' in g) {\n      var ctrl = new AbortController();\n      return ctrl.signal;\n    }\n  }());\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        try {\n          headers.append(key, value)\n        } catch (error) {\n          console.warn('Response ' + error.message)\n        }\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  if (this.status < 200 || this.status > 599) {\n    throw new RangeError(\"Failed to construct 'Response': The status provided (0) is outside the range [200, 599].\")\n  }\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 200, statusText: ''})\n  response.ok = false\n  response.status = 0\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = g.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      // This check if specifically for when a user fetches a file locally from the file system\n      // Only if the status is out of a normal range\n      if (request.url.indexOf('file://') === 0 && (xhr.status < 200 || xhr.status > 599)) {\n        options.status = 200;\n      } else {\n        options.status = xhr.status;\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request timed out'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && g.location.href ? g.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers || (g.Headers && init.headers instanceof g.Headers))) {\n      var names = [];\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        names.push(normalizeName(name))\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n      request.headers.forEach(function(value, name) {\n        if (names.indexOf(name) === -1) {\n          xhr.setRequestHeader(name, value)\n        }\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!g.fetch) {\n  g.fetch = fetch\n  g.Headers = Headers\n  g.Request = Request\n  g.Response = Response\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Transport } from \"@open-rpc/client-js/build/transports/Transport\";\nimport {\n  IJSONRPCData,\n  JSONRPCRequestData,\n  getBatchRequests,\n  getNotifications,\n} from \"@open-rpc/client-js/build/Request\";\nimport { JSONRPCError } from \"@open-rpc/client-js\";\nimport { ERR_UNKNOWN } from \"@open-rpc/client-js/build/Error\";\n\nclass MetaMaskTransport extends Transport {\n  private extensionPort?: chrome.runtime.Port;\n  private url?: string;\n\n  public async _connect(url: string): Promise<boolean> {\n    this.url = url;\n    return this.connect();\n  }\n\n  public async connect(): Promise<boolean> {\n    this.extensionPort =\n      this.extensionPort || chrome.runtime.connect(this.url!);\n    this.extensionPort.onDisconnect.addListener(() => {\n      this.extensionPort?.onMessage.removeListener(\n        this.onMessageListener.bind(this),\n      );\n      this.extensionPort = undefined;\n    });\n    this.extensionPort.onMessage.addListener(this.onMessageListener.bind(this));\n    return true;\n  }\n\n  public async sendData(\n    data: JSONRPCRequestData,\n    timeout: number | undefined = 5000,\n  ): Promise<any> {\n    if (Array.isArray(data)) {\n      throw new Error(\"Batch requests not supported yet\");\n    }\n    const dataRequestWithIds = {\n      ...(data as IJSONRPCData).request,\n      id: (data as IJSONRPCData).internalID,\n    };\n    const r = { ...data, request: dataRequestWithIds };\n    let prom = this.transportRequestManager.addRequest(r, timeout);\n    const notifications = getNotifications(r);\n    try {\n      this.extensionPort?.postMessage({\n        type: \"caip-x\",\n        data: dataRequestWithIds,\n      });\n      this.transportRequestManager.settlePendingRequest(notifications);\n    } catch (err) {\n      const jsonError = new JSONRPCError(\n        (err as any).message,\n        ERR_UNKNOWN,\n        err,\n      );\n\n      this.transportRequestManager.settlePendingRequest(\n        notifications,\n        jsonError,\n      );\n      this.transportRequestManager.settlePendingRequest(\n        getBatchRequests(r),\n        jsonError,\n      );\n\n      prom = Promise.reject(jsonError);\n    }\n\n    return prom;\n  }\n\n  public close(): void {\n    this.extensionPort?.onMessage.removeListener(this.onMessageListener);\n  }\n\n  private onMessageListener(msg: any) {\n    const { data } = msg;\n    this.transportRequestManager.resolveResponse(JSON.stringify(data));\n  }\n}\n\nexport default MetaMaskTransport;\n","import { Connect, SendData } from \"../__GENERATED_TYPES__\";\nimport MetaMaskTransport from \"../transports/MetaMaskTransport\";\n\nexport interface IMethodMapping {\n  [methodName: string]: (...params: any) => Promise<any>;\n}\n\nlet transport: MetaMaskTransport | undefined;\nlet internalID = 0;\n\nconst connect: any = async (url: string) => {\n  transport = new MetaMaskTransport();\n  return transport._connect(url);\n};\n\nconst sendData: SendData = (data) => {\n  if (!transport) {\n    throw new Error(\"Not Connected\");\n  }\n  return transport.sendData({\n    internalID: internalID++,\n    request: data,\n  });\n};\n\nconst methodMapping: IMethodMapping = {\n  connect,\n  sendData,\n};\n\nexport default methodMapping;\n","import openrpcDocument from \"./openrpc.json\";\nimport methodMapping from \"./methods/methodMapping\";\nimport {EthereumRpcError, serializeError} from \"eth-rpc-errors\";\n\nwindow.addEventListener(\"message\", async (ev: MessageEvent) => {\n  if (!ev.data.jsonrpc) {\n    return;\n  }\n\n  const eventSource: Window = ev.source as Window;\n\n  if (ev.data.method === \"rpc.discover\") {\n    eventSource.postMessage({\n      jsonrpc: \"2.0\",\n      result: openrpcDocument,\n      id: ev.data.id,\n    }, ev.origin);\n    return;\n  }\n  if (!methodMapping[ev.data.method]) {\n    eventSource.postMessage({\n      jsonrpc: \"2.0\",\n      error: {\n        code: 32009,\n        message: \"Method not found\",\n      },\n      id: ev.data.id,\n    }, ev.origin);\n    return;\n  }\n  methodMapping[ev.data.method](...ev.data.params, ev.origin).then((results: any) => {\n    eventSource.postMessage({\n      jsonrpc: \"2.0\",\n      result: results,\n      id: ev.data.id,\n    }, ev.origin);\n  }).catch((e: EthereumRpcError<any>) => {\n    eventSource.postMessage({\n      jsonrpc: \"2.0\",\n      error: serializeError(e, { shouldIncludeStack: true }),\n      id: ev.data.id,\n    }, ev.origin);\n  });\n});\n\nexport default {};\n"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","Client","requestManager","prototype","startBatch","stopBatch","request","requestObject","timeout","_a","connectPromise","notify","onNotification","callback","requestChannel","addListener","onError","close","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","convertJSONToRPCError","JSONRPCError","ERR_UNKNOWN","ERR_MISSIING_ID","ERR_TIMEOUT","_super","message","code","data","_newTarget","_this","Error","payload","error","getNotifications","getBatchRequests","isNotification","undefined","id","filter","datum","map","batchRequest","defaultNextRequest","events_1","require","lastId","RequestManager","transports","nextID","batch","batchStarted","requests","connect","EventEmitter","all","transport","subscribe","handleError","bind","handleNotification","getPrimaryTransport","notification","internalID","toString","makeRequest","method","params","sendData","removeAllListeners","forEach","unsubscribe","jsonrpc","emit","__importDefault","mod","__esModule","PostMessageIframeTransport","PostMessageWindowTransport","WebSocketTransport","EventEmitterTransport","HTTPTransport","RequestManager_1","default","EventEmitterTransport_1","HTTPTransport_1","WebSocketTransport_1","PostMessageWindowTransport_1","PostMessageIframeTransport_1","Error_1","enumerable","get","Client_1","Transport_1","Request_1","destEmitter","reqUri","resUri","connection","on","transportRequestManager","resolveResponse","prom","addRequest","notifications","parsedData","parseData","settlePendingRequest","responseErr","Transport","isomorphic_fetch_1","uri","options","onlyNotifications","every","credentials","headers","setupHeaders","injectedFetcher","fetcher","e_1","JSON","stringify","text","headerOptions","Headers","set","messageHandler","ev","postMessageID","Math","random","createWindow","frame","iframe","document","createElement","setAttribute","addEventListener","window","appendChild","contentWindow","urlRegex","_b","test","postMessage","el","getElementById","remove","removeEventListener","PostMessageTransport","url","height","screen","open","openPopup","setTimeout","TransportRequestManager_1","TransportRequestManager","transportEventChannel","event","handler","removeListener","pendingRequest","pendingBatchRequest","addBatchReq","addReq","req","resolver","isPendingRequest","emitError","parse","checkJSONRPC","resolveBatch","resolveRes","err","batches","setRequestTimeout","processResult","errors","status","isomorphic_ws_1","cb","jsonError","send","fast_safe_stringify_1","EthereumRpcError","Number","isInteger","serialize","serialized","stack","stringifyReplacer","isValidEthProviderCode","rpc","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","invalidRequest","methodNotFound","invalidParams","internal","provider","userRejectedRequest","unauthorized","unsupportedMethod","disconnected","chainDisconnected","standard","classes_1","utils_1","error_constants_1","getEthJsonRpcError","arg","parseOpts","getMessageFromCode","getEthProviderError","EthereumProviderError","isArray","errorCodes","server","opts","custom","serializeError","errors_1","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","fallbackMessage","arguments","codeString","hasKey","errorValues","isJsonRpcServerError","JSON_RPC_SERVER_ERROR_MESSAGE","isValidCode","assignOriginalError","assign","obj","key","fallbackError","shouldIncludeStack","_error","originalError","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","isNaN","init","module","once","emitter","name","errorListener","slice","eventTargetAgnosticAddListener","flags","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","newListener","unshift","warned","w","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","i","unwrapListeners","arrayClone","listenerCount","copy","wrapListener","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","len","listeners","prependListener","prependOnceListener","list","position","originalListener","shift","index","spliceOne","off","keys","rawListeners","eventNames","stable","deterministicStringify","stableStringify","LIMIT_REPLACE_NODE","CIRCULAR_REPLACE_NODE","replacerStack","defaultOptions","depthLimit","MAX_SAFE_INTEGER","edgesLimit","replacer","spacer","res","decirc","replaceGetterValues","part","setReplace","replace","val","k","parent","propertyDescriptor","getOwnPropertyDescriptor","configurable","edgeIndex","depth","compareFunction","a","tmp","deterministicDecirc","toJSON","sort","splice","self","fetch","ws","WebSocket","MozWebSocket","global","globalThis","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isArrayBufferView","ArrayBuffer","isView","indexOf","normalizeName","toLowerCase","normalizeValue","iteratorFor","items","append","header","consumed","_noBody","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","isConsumed","byteOffset","match","exec","encoding","readAsText","readBlobAsText","chars","fromCharCode","join","readArrayBufferAsText","decode","json","oldValue","has","values","entries","methods","Request","input","mode","signal","upcased","toUpperCase","normalizeMethod","AbortController","referrer","cache","reParamSearch","Date","getTime","form","trim","split","bytes","decodeURIComponent","parseHeaders","rawHeaders","substr","line","parts","Response","bodyInit","ok","statusText","clone","response","redirectStatuses","redirect","location","DOMException","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","href","fixUrl","withCredentials","responseType","names","setRequestHeader","onreadystatechange","readyState","polyfill","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","o","prop","r","toStringTag","MetaMaskTransport","extensionPort","_connect","chrome","runtime","onDisconnect","_this$extensionPort","onMessage","onMessageListener","dataRequestWithIds","_this$extensionPort2","_this$extensionPort3","msg","async","eventSource","source","methodMapping","origin","results","catch","openrpcDocument"],"sourceRoot":""}